(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{275:function(e,t,s){"use strict";s.r(t);var a=s(10),r=Object(a.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"introduction"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[e._v("#")]),e._v(" Introduction")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://raw.githubusercontent.com/SimonDevelop/docs-sirene/master/docs/.vuepress/public/assets/img/logo.png",alt:""}})]),e._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/SimonDevelop/sirene",target:"_blank",rel:"noopener noreferrer"}},[e._v("Sirene"),t("OutboundLink")],1),e._v(" est une librairie php vous permettant d'utiliser l'api Sirene de l'insée via des fonctions pour facilité la recherche d'etablissement.")]),e._v(" "),t("h2",{attrs:{id:"prerequis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#prerequis"}},[e._v("#")]),e._v(" Prérequis")]),e._v(" "),t("ul",[t("li",[t("strong",[t("a",{attrs:{href:"https://secure.php.net/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Php"),t("OutboundLink")],1),e._v(" >= 7.3")])])]),e._v(" "),t("blockquote",[t("p",[e._v("Cette librairie nécessite une version récente de php")])]),e._v(" "),t("h2",{attrs:{id:"installation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[e._v("#")]),e._v(" Installation")]),e._v(" "),t("h3",{attrs:{id:"composer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#composer"}},[e._v("#")]),e._v(" Composer")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("composer")]),e._v(" require simondevelop/sirene\n")])])]),t("h2",{attrs:{id:"utilisation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#utilisation"}},[e._v("#")]),e._v(" Utilisation")]),e._v(" "),t("h3",{attrs:{id:"clefs-api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#clefs-api"}},[e._v("#")]),e._v(" Clefs API")]),e._v(" "),t("ul",[t("li",[e._v("Rendez-vous sur "),t("a",{attrs:{href:"https://api.insee.fr/catalogue/",target:"_blank",rel:"noopener noreferrer"}},[e._v("api.insee.fr"),t("OutboundLink")],1),e._v(", créer votre compte gratuitement puis une fois connecté, aller dans l'onglet "),t("code",[e._v("MES APPLICATIONS")]),e._v(".")]),e._v(" "),t("li",[e._v("Cliquez sur "),t("code",[e._v("AJOUTER UNE APPLICATION")]),e._v(", nommé là comme vous le souhaitez, la description peut être vide.")]),e._v(" "),t("li",[e._v("Une fois l'application ajouté, rendez-vous dans l'onglet "),t("code",[e._v("LES API DE L'INSEE")]),e._v(" puis sélectionner "),t("code",[e._v("Sirene V3")]),e._v(".")]),e._v(" "),t("li",[e._v("Cliquez sur le bouton "),t("code",[e._v("Souscrire")]),e._v(" sur votre droite après avoir sélectionné l'application que vous avez ajouté précédemment.")]),e._v(" "),t("li",[e._v("Une fois cela fait, retourner dans "),t("code",[e._v("MES APPLICATIONS")]),e._v(", sélectionner la votre et aller dans la partie "),t("code",[e._v("Clefs et jetons d'accès")]),e._v(".")]),e._v(" "),t("li",[e._v("Cliquez sur le bouton "),t("code",[e._v("Regénérer")]),e._v(" en bas et vous obtiendrez vos clefs d'API, "),t("code",[e._v("Clef du consommateur")]),e._v(" et "),t("code",[e._v("Secret du consommateur")]),e._v(".")]),e._v(" "),t("li",[e._v("Pour obtenir votre clef pour la librairie php Sirene, il vous faudra utilisation la fonction "),t("code",[e._v("base64_encode")]),e._v(" de php, voir ci-dessous.")])]),e._v(" "),t("h3",{attrs:{id:"exemple-php"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#exemple-php"}},[e._v("#")]),e._v(" Exemple php")]),e._v(" "),t("div",{staticClass:"language-php extra-class"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[t("span",{pre:!0,attrs:{class:"token php language-php"}},[t("span",{pre:!0,attrs:{class:"token delimiter important"}},[e._v("<?php")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("require_once")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[e._v('"vendor/autoload.php"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("use")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token package"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("SimonDevelop"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Sirene")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$sirene")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("new")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("Sirene")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[e._v('"secret"')]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("base64_encode")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[e._v('"<Clef du consommateur>:<Secret du consommateur>"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[e._v('"jwt_path"')]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=>")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[e._v("__DIR__")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Chemin où sera stocké le token d'accès (fichier json)")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])])])])}),[],!1,null,null,null);t.default=r.exports}}]);