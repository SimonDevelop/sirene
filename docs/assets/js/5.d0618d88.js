(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{210:function(e,t,s){"use strict";s.r(t);var a=s(0),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"introduction"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[e._v("#")]),e._v(" Introduction")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/SimonDevelop/docs-sirene/master/docs/.vuepress/public/assets/img/logo.png",alt:""}})]),e._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/SimonDevelop/sirene",target:"_blank",rel:"noopener noreferrer"}},[e._v("Sirene"),s("OutboundLink")],1),e._v(" est une librairie php vous permettant d'utiliser l'api Sirene de l'insée via des fonctions pour facilité la recherche d'etablissement.")]),e._v(" "),s("h2",{attrs:{id:"prerequis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#prerequis"}},[e._v("#")]),e._v(" Prérequis")]),e._v(" "),s("ul",[s("li",[s("strong",[s("a",{attrs:{href:"https://secure.php.net/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Php"),s("OutboundLink")],1),e._v(" >= 7.1")])])]),e._v(" "),s("blockquote",[s("p",[e._v("Cette librairie nécessite une version récente de php")])]),e._v(" "),s("h2",{attrs:{id:"installation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[e._v("#")]),e._v(" Installation")]),e._v(" "),s("h3",{attrs:{id:"composer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#composer"}},[e._v("#")]),e._v(" Composer")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("$ composer require simondevelop/sirene\n")])])]),s("h2",{attrs:{id:"utilisation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#utilisation"}},[e._v("#")]),e._v(" Utilisation")]),e._v(" "),s("h3",{attrs:{id:"clefs-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#clefs-api"}},[e._v("#")]),e._v(" Clefs API")]),e._v(" "),s("ul",[s("li",[e._v("Rendez-vous sur "),s("a",{attrs:{href:"https://api.insee.fr/catalogue/",target:"_blank",rel:"noopener noreferrer"}},[e._v("api.insee.fr"),s("OutboundLink")],1),e._v(", créer votre compte gratuitement puis une fois connecté, aller dans l'onglet "),s("code",[e._v("MES APPLICATIONS")]),e._v(".")]),e._v(" "),s("li",[e._v("Cliquez sur "),s("code",[e._v("AJOUTER UNE APPLICATION")]),e._v(", nommé là comme vous le souhaitez, la description peut être vide.")]),e._v(" "),s("li",[e._v("Une fois l'application ajouté, rendez-vous dans l'onglet "),s("code",[e._v("LES API DE L'INSEE")]),e._v(" puis sélectionner "),s("code",[e._v("Sirene V3")]),e._v(".")]),e._v(" "),s("li",[e._v("Cliquez sur le bouton "),s("code",[e._v("Souscrire")]),e._v(" sur votre droite après avoir sélectionné l'application que vous avez ajouté précédemment.")]),e._v(" "),s("li",[e._v("Une fois cela fait, retourner dans "),s("code",[e._v("MES APPLICATIONS")]),e._v(", sélectionner la votre et aller dans la partie "),s("code",[e._v("Clefs et jetons d'accès")]),e._v(".")]),e._v(" "),s("li",[e._v("Cliquez sur le bouton "),s("code",[e._v("Regénérer")]),e._v(" en bas et vous obtiendrez vos clefs d'API, "),s("code",[e._v("Clef du consommateur")]),e._v(" et "),s("code",[e._v("Secret du consommateur")]),e._v(".")]),e._v(" "),s("li",[e._v("Pour obtenir votre clef pour la librairie php Sirene, il vous faudra utilisation la fonction "),s("code",[e._v("base64_encode")]),e._v(" de php, voir ci-dessous.")])]),e._v(" "),s("h3",{attrs:{id:"exemple-php"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#exemple-php"}},[e._v("#")]),e._v(" Exemple php")]),e._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token php language-php"}},[s("span",{pre:!0,attrs:{class:"token delimiter important"}},[e._v("<?php")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("require_once")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[e._v('"vendor/autoload.php"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("use")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("SimonDevelop"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Sirene")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$sirene")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("new")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("Sirene")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[e._v('"secret"')]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("base64_encode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[e._v('"<Clef du consommateur>:<Secret du consommateur>"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token double-quoted-string string"}},[e._v('"jwt_path"')]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[e._v("__DIR__")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Chemin où sera stocké le token d'accès (fichier json)")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])])])])}),[],!1,null,null,null);t.default=r.exports}}]);